<script>
  import { f7, Link, Button } from "framework7-svelte";
  import { user } from "../js/user";
  import { currentMenuItem } from "../js/store";

  let upgradeNotification;

  const upgradeUserRole = () => {
    currentMenuItem.set("My Store");

    //create notification
    upgradeNotification = f7.notification.create({
      icon: '<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-alert-circle" width="28" height="28" viewBox="0 0 24 24" stroke-width="1.5" stroke="#00b341" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M12 8v4" /><path d="M12 16h.01" /></svg>',
      title: "Upgrade Success!",
      text: "You are successfully upgraded as a store owner.",
      closeTimeout: 3000,
    });

	upgradeNotification.open();
  };
</script>

<div class="page profile-wraper">
  <div class="navbar navbar-style-1">
    <div class="navbar-inner">
      <Link back>
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.439312 13.0606L5.75391 18.3752C6.04683 18.6682 6.43069 18.8146 6.81459 18.8146C7.1985 18.8146 7.58236 18.6682 7.87528 18.3752C8.46103 17.7894 8.46103 16.8397 7.87528 16.2539L5.12133 13.5H22.5C23.3284 13.5 24 12.8284 24 12C24 11.1716 23.3284 10.5 22.5 10.5H5.12133L7.87528 7.7461C8.46103 7.1603 8.46103 6.21057 7.87528 5.62477C7.28944 5.03898 6.33975 5.03898 5.75391 5.62477L0.439312 10.9394C-0.146437 11.5251 -0.146437 12.4749 0.439312 13.0606Z"
            fill="black"
          />
        </svg>
      </Link>
      <div class="title">Profile</div>
      <div class="right">
        <a href="#" class="link panel-open" data-panel="left">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 8.40009V21.0001C3 21.2653 3.10536 21.5197 3.29289 21.7072C3.48043 21.8947 3.73478 22.0001 4 22.0001H20C20.2652 22.0001 20.5196 21.8947 20.7071 21.7072C20.8946 21.5197 21 21.2653 21 21.0001V8.40009C21.0001 8.23646 20.96 8.07531 20.8833 7.93077C20.8066 7.78623 20.6956 7.66273 20.56 7.5711L12.56 2.1711C12.3946 2.05932 12.1996 1.99959 12 1.99959C11.8004 1.99959 11.6054 2.05932 11.44 2.1711L3.44 7.5711C3.30443 7.66273 3.19342 7.78623 3.11671 7.93077C3.03999 8.07531 2.99992 8.23646 3 8.40009ZM14 20.0001H10V14.0001H14V20.0001ZM5 8.9321L12 4.2071L19 8.9321V20.0001H16V13.0001C16 12.7349 15.8946 12.4805 15.7071 12.293C15.5196 12.1055 15.2652 12.0001 15 12.0001H9C8.73478 12.0001 8.48043 12.1055 8.29289 12.293C8.10536 12.4805 8 12.7349 8 13.0001V20.0001H5V8.9321Z"
              fill="#04764E"
            />
          </svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Page Content -->
  <div class="page-content content-area pt-60">
    <div class="profile-info">
      <div class="container">
        <!-- author -->
        <div class="author-bx">
          <div class="dz-media">
            <img src="../assets/img/avatar/avatarface.jpg" alt="" />
          </div>
          <div class="dz-content">
            {#if $user && $user.name}
              <h2 class="name">{$user.name}</h2>
            {:else if $user && $user.email}
              <h2 class="name">{$user.email}</h2>
            {/if}
            <p class="text-primary">London, England</p>
          </div>
        </div>

        <!-- Contact Info -->
        <div class="widget_getintuch pb-15">
          <ul>
            <li>
              <div class="icon-bx">
                <center>
                  <svg
                    class="svg-primary"
                    enable-background="new 0 0 507.983 507.983"
                    height="24"
                    viewBox="0 0 507.983 507.983"
                    width="24"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="m200.75 148.678c11.79-27.061 5.828-58.58-15.03-79.466l-48.16-48.137c-15.999-16.19-38.808-23.698-61.296-20.178-22.742 3.34-42.496 17.4-53.101 37.794-23.286 43.823-29.276 94.79-16.784 142.817 30.775 121.9 198.319 289.559 320.196 320.104 16.452 4.172 33.357 6.297 50.33 6.326 32.253-.021 64.009-7.948 92.487-23.087 35.138-18.325 48.768-61.665 30.443-96.803-3.364-6.451-7.689-12.352-12.828-17.502l-48.137-48.16c-20.894-20.862-52.421-26.823-79.489-15.03-12.631 5.444-24.152 13.169-33.984 22.787-11.774 11.844-55.201-5.31-98.675-48.76s-60.581-86.877-48.876-98.698c9.658-9.834 17.422-21.361 22.904-34.007zm-6.741 165.397c52.939 52.893 124.14 88.562 163.919 48.76 5.859-5.609 12.688-10.108 20.155-13.275 9.59-4.087 20.703-1.9 28.028 5.518l48.137 48.137c5.736 5.672 8.398 13.754 7.157 21.725-1.207 8.191-6.286 15.298-13.645 19.093-33.711 18.115-73.058 22.705-110.033 12.836-104.724-26.412-260.078-181.765-286.489-286.627-9.858-37.009-5.26-76.383 12.86-110.126 3.823-7.318 10.924-12.358 19.093-13.552 1.275-.203 2.564-.304 3.856-.3 6.714-.002 13.149 2.683 17.869 7.457l48.137 48.137c7.407 7.321 9.595 18.421 5.518 28.005-3.153 7.516-7.652 14.394-13.275 20.294-39.804 39.686-4.18 110.817 48.713 163.918z"
                    />
                  </svg></center
                >
              </div>
              <div class="dz-content">
                <p class="sub-title">Mobile Phone</p>
                <h5 class="title">+12 345 678 92</h5>
              </div>
            </li>
            <li>
              <div class="icon-bx">
                <center>
                  <svg
                    class="svg-primary"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M22 3H2C1.73478 3 1.48043 3.10536 1.29289 3.29289C1.10536 3.48043 1 3.73478 1 4V20C1 20.2652 1.10536 20.5196 1.29289 20.7071C1.48043 20.8946 1.73478 21 2 21H22C22.2652 21 22.5196 20.8946 22.7071 20.7071C22.8946 20.5196 23 20.2652 23 20V4C23 3.73478 22.8946 3.48043 22.7071 3.29289C22.5196 3.10536 22.2652 3 22 3ZM21 19H3V9.477L11.628 12.929C11.867 13.0237 12.133 13.0237 12.372 12.929L21 9.477V19ZM21 7.323L12 10.923L3 7.323V5H21V7.323Z"
                      fill="#4A3749"
                    />
                  </svg></center
                >
              </div>
              <div class="dz-content">
                <p class="sub-title">Email Address</p>
                <h5 class="title">example@gmail.com</h5>
              </div>
            </li>
            <li>
              <div class="icon-bx">
                <center>
                  <svg
                    class="svg-primary"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M11.9993 5.48404C9.59314 5.48404 7.64258 7.4346 7.64258 9.84075C7.64258 12.2469 9.59314 14.1975 11.9993 14.1975C14.4054 14.1975 16.356 12.2469 16.356 9.84075C16.356 7.4346 14.4054 5.48404 11.9993 5.48404ZM11.9993 12.0191C10.7962 12.0191 9.82096 11.0438 9.82096 9.84075C9.82096 8.6377 10.7962 7.66242 11.9993 7.66242C13.2023 7.66242 14.1776 8.6377 14.1776 9.84075C14.1776 11.0438 13.2023 12.0191 11.9993 12.0191Z"
                      fill="#4A3749"
                    />
                    <path
                      d="M21.793 9.81896C21.8074 4.41054 17.4348 0.0144869 12.0264 5.09008e-05C6.61797 -0.0143851 2.22191 4.35827 2.20748 9.76664C2.16044 15.938 5.85106 21.5248 11.546 23.903C11.6884 23.9674 11.8429 24.0005 11.9991 24C12.1565 24.0002 12.3121 23.9668 12.4555 23.9019C18.1324 21.5313 21.8191 15.9709 21.793 9.81896ZM11.9992 21.7127C7.30495 19.646 4.30485 14.9691 4.38364 9.84071C4.38364 5.63477 7.79323 2.22518 11.9992 2.22518C16.2051 2.22518 19.6147 5.63477 19.6147 9.84071V9.91152C19.6686 15.0154 16.672 19.6591 11.9992 21.7127Z"
                      fill="#4A3749"
                    />
                  </svg></center
                >
              </div>
              <div class="dz-content">
                <p class="sub-title">Address</p>
                <h5 class="title">
                  Franklin Avenue, Corner St. London, 24125151
                </h5>
              </div>
            </li>
          </ul>
        </div>

        <!-- Most Ordered -->
        <div class="title-bar">
          <h4 class="dz-title">Most Ordered</h4>
        </div>
        <swiper-container
          space-between={20}
          slides-per-view={"auto"}
          centered-slides={false}
          class="swiper swiper-init main-swiper mb-30 overlay-swiper2 demo-swiper-multiple demo-swiper-multiple-auto"
        >
          <!-- <div class="swiper-wrapper"> -->
          <swiper-slide style="width:auto" class="pl-4">
            <div class="card-overlay style-2">
              <div class="dz-media">
                <img src="../assets/img/order/pic1.png" alt="" />
              </div>
              <div class="dz-info">
                <h5 class="title">
                  <a href="/item-details/">Creamy Latte Coffee</a>
                </h5>
                <div class="dz-meta">
                  <ul>
                    <li class="category">Beverages</li>
                    <li class="category">
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M13.9992 1.33334H9.99924C9.82243 1.33334 9.65286 1.40358 9.52784 1.52861C9.40281 1.65363 9.33257 1.8232 9.33257 2.00001C9.33257 2.17682 9.40281 2.34639 9.52784 2.47141C9.65286 2.59644 9.82243 2.66668 9.99924 2.66668H12.3899L6.86124 8.19534C6.79757 8.25684 6.74678 8.3304 6.71184 8.41174C6.6769 8.49308 6.65851 8.58056 6.65774 8.66908C6.65697 8.7576 6.67384 8.84538 6.70736 8.92731C6.74088 9.00924 6.79038 9.08368 6.85298 9.14627C6.91557 9.20887 6.99001 9.25837 7.07194 9.29189C7.15387 9.32541 7.24165 9.34228 7.33017 9.34151C7.41869 9.34074 7.50617 9.32235 7.58751 9.28741C7.66885 9.25247 7.74241 9.20168 7.80391 9.13801L13.3326 3.60934V6.00001C13.3326 6.17682 13.4028 6.34639 13.5278 6.47141C13.6529 6.59644 13.8224 6.66668 13.9992 6.66668C14.1761 6.66668 14.3456 6.59644 14.4706 6.47141C14.5957 6.34639 14.6659 6.17682 14.6659 6.00001V2.00001C14.6659 1.8232 14.5957 1.65363 14.4706 1.52861C14.3456 1.40358 14.1761 1.33334 13.9992 1.33334Z"
                          fill="white"
                        />
                        <path
                          d="M12.6668 7.05866C12.49 7.05866 12.3204 7.1289 12.1954 7.25392C12.0704 7.37895 12.0002 7.54852 12.0002 7.72533V12.5007C12 12.7214 11.9122 12.9331 11.7561 13.0893C11.6 13.2454 11.3883 13.3332 11.1675 13.3333H3.4995C3.27871 13.3332 3.06702 13.2454 2.91091 13.0893C2.75479 12.9331 2.66701 12.7214 2.66683 12.5007V4.83266C2.66701 4.61188 2.75479 4.40019 2.91091 4.24407C3.06702 4.08795 3.27871 4.00017 3.4995 3.99999H7.6475C7.82431 3.99999 7.99388 3.92975 8.1189 3.80473C8.24392 3.6797 8.31416 3.51013 8.31416 3.33332C8.31416 3.15651 8.24392 2.98694 8.1189 2.86192C7.99388 2.73689 7.82431 2.66666 7.6475 2.66666H3.4995C2.92525 2.66736 2.37473 2.89579 1.96868 3.30184C1.56263 3.70789 1.3342 4.25842 1.3335 4.83266V12.4993C1.33385 13.0738 1.56212 13.6247 1.96821 14.031C2.3743 14.4373 2.92502 14.666 3.4995 14.6667H11.1662C11.7406 14.6663 12.2915 14.438 12.6978 14.0319C13.1042 13.6259 13.3328 13.0751 13.3335 12.5007V7.72533C13.3335 7.54852 13.2633 7.37895 13.1382 7.25392C13.0132 7.1289 12.8436 7.05866 12.6668 7.05866Z"
                        />
                      </svg>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </swiper-slide>
          <swiper-slide style="width:auto">
            <div class="card-overlay style-2">
              <div class="dz-media">
                <img src="../assets/img/order/pic2.png" alt="" />
              </div>
              <div class="dz-info">
                <h5 class="item-title title">
                  <a href="/item-details/">Ombe Ice Coffee Latte</a>
                </h5>
                <div class="dz-meta">
                  <ul>
                    <li class="category">Beverages</li>
                    <li class="category">
                      <svg
                        width="16"
                        height="16"
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M13.9992 1.33334H9.99924C9.82243 1.33334 9.65286 1.40358 9.52784 1.52861C9.40281 1.65363 9.33257 1.8232 9.33257 2.00001C9.33257 2.17682 9.40281 2.34639 9.52784 2.47141C9.65286 2.59644 9.82243 2.66668 9.99924 2.66668H12.3899L6.86124 8.19534C6.79757 8.25684 6.74678 8.3304 6.71184 8.41174C6.6769 8.49308 6.65851 8.58056 6.65774 8.66908C6.65697 8.7576 6.67384 8.84538 6.70736 8.92731C6.74088 9.00924 6.79038 9.08368 6.85298 9.14627C6.91557 9.20887 6.99001 9.25837 7.07194 9.29189C7.15387 9.32541 7.24165 9.34228 7.33017 9.34151C7.41869 9.34074 7.50617 9.32235 7.58751 9.28741C7.66885 9.25247 7.74241 9.20168 7.80391 9.13801L13.3326 3.60934V6.00001C13.3326 6.17682 13.4028 6.34639 13.5278 6.47141C13.6529 6.59644 13.8224 6.66668 13.9992 6.66668C14.1761 6.66668 14.3456 6.59644 14.4706 6.47141C14.5957 6.34639 14.6659 6.17682 14.6659 6.00001V2.00001C14.6659 1.8232 14.5957 1.65363 14.4706 1.52861C14.3456 1.40358 14.1761 1.33334 13.9992 1.33334Z"
                          fill="white"
                        />
                        <path
                          d="M12.6668 7.05866C12.49 7.05866 12.3204 7.1289 12.1954 7.25392C12.0704 7.37895 12.0002 7.54852 12.0002 7.72533V12.5007C12 12.7214 11.9122 12.9331 11.7561 13.0893C11.6 13.2454 11.3883 13.3332 11.1675 13.3333H3.4995C3.27871 13.3332 3.06702 13.2454 2.91091 13.0893C2.75479 12.9331 2.66701 12.7214 2.66683 12.5007V4.83266C2.66701 4.61188 2.75479 4.40019 2.91091 4.24407C3.06702 4.08795 3.27871 4.00017 3.4995 3.99999H7.6475C7.82431 3.99999 7.99388 3.92975 8.1189 3.80473C8.24392 3.6797 8.31416 3.51013 8.31416 3.33332C8.31416 3.15651 8.24392 2.98694 8.1189 2.86192C7.99388 2.73689 7.82431 2.66666 7.6475 2.66666H3.4995C2.92525 2.66736 2.37473 2.89579 1.96868 3.30184C1.56263 3.70789 1.3342 4.25842 1.3335 4.83266V12.4993C1.33385 13.0738 1.56212 13.6247 1.96821 14.031C2.3743 14.4373 2.92502 14.666 3.4995 14.6667H11.1662C11.7406 14.6663 12.2915 14.438 12.6978 14.0319C13.1042 13.6259 13.3328 13.0751 13.3335 12.5007V7.72533C13.3335 7.54852 13.2633 7.37895 13.1382 7.25392C13.0132 7.1289 12.8436 7.05866 12.6668 7.05866Z"
                        />
                      </svg>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </swiper-slide>
          <!-- </div> -->
        </swiper-container>

        <div style="width: 80%; margin: auto; margin-top: 50px">
          <Button large round fill onClick={upgradeUserRole}
            >Upgrade to Store Owner</Button
          >
        </div>
      </div>
    </div>
  </div>
</div>
